# 博客更新流程验证清单

使用此清单验证您的博客配置和更新流程是否正常工作。

## ✅ 配置验证

### 1. URL 配置检查
- [ ] 打开 `blog/_config.yml`
- [ ] 确认 `url: https://dadongshangu.github.io`（不是 http://example.com）
- [ ] 确认 `root: /`

### 2. 部署配置检查
- [ ] 确认 `deploy.type: git`
- [ ] 确认 `deploy.repo: git@github.com:dadongshangu/dadongshangu.github.io.git`
- [ ] 确认 `deploy.branch: master`

### 3. 依赖检查
```bash
cd blog
npm list hexo-deployer-git
```
- [ ] 确认 hexo-deployer-git 已安装

## 🧪 功能测试

### 测试 1：本地预览
```bash
cd blog
hexo server
```
- [ ] 浏览器访问 http://localhost:4000
- [ ] 页面正常显示
- [ ] 可以看到现有文章
- [ ] 按 Ctrl+C 停止服务器

### 测试 2：生成静态文件
```bash
cd blog
hexo clean
hexo generate
```
- [ ] 命令执行成功，无错误
- [ ] `blog/public/` 目录已生成
- [ ] `blog/public/index.html` 文件存在

### 测试 3：Git 分支检查
```bash
# 在项目根目录（不是 blog 目录）
git branch
```
- [ ] 当前分支是 `hexo`（或可以切换到 hexo 分支）
- [ ] 可以使用 `git checkout hexo` 切换到 hexo 分支

### 测试 4：创建测试文章（可选）
```bash
cd blog
hexo new "测试文章"
```
- [ ] 文件 `blog/source/_posts/测试文章.md` 已创建
- [ ] 编辑文件，添加一些内容
- [ ] 本地预览可以看到新文章
- [ ] 删除测试文章（如果不需要）

## 🚀 部署测试

### 完整流程测试

#### 步骤 1：准备测试文章
```bash
cd blog
hexo new "部署测试"
# 编辑文章，添加一些测试内容
```

#### 步骤 2：本地预览
```bash
hexo server
```
- [ ] 在浏览器中查看测试文章
- [ ] 确认内容正确
- [ ] 停止服务器（Ctrl+C）

#### 步骤 3：生成静态文件
```bash
hexo clean
hexo generate
```
- [ ] 生成成功

#### 步骤 4：提交源文件
```bash
# 返回项目根目录
cd ..
git add .
git commit -m "测试：添加部署测试文章"
git push origin hexo
```
- [ ] 提交成功
- [ ] 推送到远程 hexo 分支成功

#### 步骤 5：部署到 GitHub Pages
```bash
cd blog
hexo deploy
```
- [ ] 部署命令执行成功
- [ ] 没有错误信息

#### 步骤 6：验证在线站点
- [ ] 等待 1-2 分钟（GitHub Pages 需要时间更新）
- [ ] 访问 https://dadongshangu.github.io
- [ ] 可以看到测试文章
- [ ] 文章内容正确显示

#### 步骤 7：清理测试内容（可选）
```bash
# 删除测试文章
rm blog/source/_posts/部署测试.md

# 重新生成和部署
cd blog
hexo clean && hexo g && hexo d

# 提交删除操作
cd ..
git add .
git commit -m "测试完成：删除测试文章"
git push origin hexo
```

## ⚠️ 常见问题排查

### 问题 1：hexo 命令未找到
**解决方案**：
```bash
cd blog
npm install
```

### 问题 2：部署失败
**检查项**：
- [ ] Git 已正确配置（用户名和邮箱）
- [ ] SSH 密钥已添加到 GitHub
- [ ] 测试 SSH 连接：`ssh -T git@github.com`
- [ ] 确认 deploy 配置中的仓库地址正确

### 问题 3：本地预览正常，但在线显示错误
**检查项**：
- [ ] URL 配置是否正确
- [ ] 执行了 `hexo clean` 清理缓存
- [ ] 重新生成和部署

### 问题 4：GitHub Pages 未更新
**检查项**：
- [ ] 等待 1-5 分钟（GitHub 需要时间处理）
- [ ] 检查 GitHub 仓库的 master 分支是否有新提交
- [ ] 检查 GitHub Pages 设置（Settings → Pages）

## ✅ 验证完成

如果所有测试都通过，说明您的博客配置正确，可以正常更新了！

**下一步**：
1. 按照 `更新指南.md` 中的步骤更新博客
2. 开始写新文章
3. 享受写作的乐趣！

---

**遇到问题？**

- 查看 `更新指南.md` 中的常见问题部分
- 检查 `配置检查报告.md` 了解配置状态
- 参考 Hexo 官方文档：https://hexo.io/zh-cn/docs/
